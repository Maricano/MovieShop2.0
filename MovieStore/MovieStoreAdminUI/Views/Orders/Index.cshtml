@model IEnumerable<MovieStoreDAL.Order>

@{
    ViewBag.Title = "Orders";
}

<div class="panel panel-default">


    <div class="panel-heading">
        <h3> All orders </h3>
    </div>
    <div class="panel-body">
        <table class="table table-striped table-bordered table-condensed">
            <thead>
            <tr>
                <th class="text-right">ID</th>
                <th>Customer</th>
                <th>Date</th>
                <th>Sum</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr>
                        <td class="text-right">@Html.ActionLink(order.Id.ToString(),"Details",new {order.Id}) </td>
                        <td>

                            @Html.ActionLink(order.Customer.FirstName + " " + order.Customer.LastName,
                           "Details", "Customers", new { id = order.CustomerId },null)
                           
                        </td>
                        <td>@order.Date.ToString("d")</td>
                        <td>@order.GetOrderSum().ToString("C")</td>
                        <td >
                            @Html.ActionLink("Details","Details",new {id = order.Id} , new {@class = "btn btn-primary btn-xs"})
                            @Html.ActionLink("Delete", "Delete", new {id = order.Id}, new {@class = "btn btn-danger btn-xs "})
                        </td>
                    </tr>
                }
            </tbody>
      </table>    
    </div>
    
</div>

